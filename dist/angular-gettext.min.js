!function(a,b){"function"==typeof define&&define.amd?define(["angular"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("angular")):b(angular)}(this,function(a){a.module("gettext",[]),a.module("gettext").constant("gettext",function(a){return a}),a.module("gettext").factory("gettextCatalog",["gettextPlurals","gettextFallbackLanguage","$http","$cacheFactory","$interpolate","$rootScope",function(b,c,d,e,f,g){function h(){g.$broadcast("gettextLanguageChanged")}var i,j="$$noContext",k='<span id="test" title="test" class="tested">test</span>',l=a.element("<span>"+k+"</span>").html()!==k,m=function(a){return i.debug&&i.currentLanguage!==i.baseLanguage?i.debugPrefix+a:a},n=function(a){return i.showTranslatedMarkers?i.translatedMarkerPrefix+a+i.translatedMarkerSuffix:a};return i={debug:!1,debugPrefix:"[MISSING]: ",showTranslatedMarkers:!1,translatedMarkerPrefix:"[",translatedMarkerSuffix:"]",strings:{},baseLanguage:"en",currentLanguage:"en",cache:e("strings"),setCurrentLanguage:function(a){this.currentLanguage=a,h()},getCurrentLanguage:function(){return this.currentLanguage},setStrings:function(b,c){this.strings[b]||(this.strings[b]={});for(var d in c){var e=c[d];if(l&&(d=a.element("<span>"+d+"</span>").html()),a.isString(e)||a.isArray(e)){var f={};f[j]=e,e=f}for(var g in e){var i=e[g];e[g]=a.isArray(i)?i:[i]}this.strings[b][d]=e}h()},getStringFormFor:function(a,c,d,e){if(!a)return null;var f=this.strings[a]||{},g=f[c]||{},h=g[e||j]||[];return h[b(a,d)]},getString:function(a,b,d){var e=c(this.currentLanguage);return a=this.getStringFormFor(this.currentLanguage,a,1,d)||this.getStringFormFor(e,a,1,d)||m(a),a=b?f(a)(b):a,n(a)},getPlural:function(a,b,d,e,g){var h=c(this.currentLanguage);return b=this.getStringFormFor(this.currentLanguage,b,a,g)||this.getStringFormFor(h,b,a,g)||m(1===a?b:d),e&&(e.$count=a,b=f(b)(e)),n(b)},loadRemote:function(a){return d({method:"GET",url:a,cache:i.cache}).then(function(a){var b=a.data;for(var c in b)i.setStrings(c,b[c]);return a})}}}]),a.module("gettext").directive("translate",["gettextCatalog","$parse","$animate","$compile","$window",function(b,c,d,e,f){function g(a,b,c){if(!a)throw new Error("You should add a "+b+" attribute whenever you add a "+c+" attribute.")}var h=function(){return String.prototype.trim?function(a){return"string"==typeof a?a.trim():a}:function(a){return"string"==typeof a?a.replace(/^\s*/,"").replace(/\s*$/,""):a}}(),i=parseInt((/msie (\d+)/.exec(a.lowercase(f.navigator.userAgent))||[])[1],10);return{restrict:"AE",terminal:!0,compile:function(f,j){g(!j.translatePlural||j.translateN,"translate-n","translate-plural"),g(!j.translateN||j.translatePlural,"translate-plural","translate-n");var k=h(f.html()),l=j.translatePlural,m=j.translateContext;return 8>=i&&"<!--IE fix-->"===k.slice(-13)&&(k=k.slice(0,-13)),{post:function(f,g,i){function j(){var c;l?(f=o||(o=f.$new()),f.$count=n(f),c=b.getPlural(f.$count,k,l,null,m)):c=b.getString(k,null,m);var i=g.contents();if(0!==i.length){if(c===h(i.html()))return void(p&&e(i)(f));var j=a.element("<span>"+c+"</span>");e(j.contents())(f);var q=j.contents();d.enter(q,g),d.leave(i)}}var n=c(i.translateN),o=null,p=!0;i.translateN&&f.$watch(i.translateN,j),f.$on("gettextLanguageChanged",j),j(),p=!1}}}}}]),a.module("gettext").factory("gettextFallbackLanguage",function(){var a={},b=/([^_]+)_[^_]+$/;return function(c){if(a[c])return a[c];var d=b.exec(c);return d?(a[c]=d[1],d[1]):null}}),a.module("gettext").filter("translate",["gettextCatalog",function(a){function b(b,c){return a.getString(b,null,c)}return b.$stateful=!0,b}]),a.module("gettext").factory("gettextPlurals",function(){return function(a,b){switch(a){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return b%10!=1||b%100==11?1:0;case"jv":return 0!=b?1:0;case"mk":return 1==b||b%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return b>1?1:0;case"lv":return b%10==1&&b%100!=11?0:0!=b?1:2;case"lt":return b%10==1&&b%100!=11?0:b%10>=2&&(10>b%100||b%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return b%10==1&&b%100!=11?0:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?1:2;case"mnk":return 0==b?0:1==b?1:2;case"ro":return 1==b?0:0==b||b%100>0&&20>b%100?1:2;case"pl":return 1==b?0:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?1:2;case"cs":case"sk":return 1==b?0:b>=2&&4>=b?1:2;case"sl":return b%100==1?1:b%100==2?2:b%100==3||b%100==4?3:0;case"mt":return 1==b?0:0==b||b%100>1&&11>b%100?1:b%100>10&&20>b%100?2:3;case"gd":return 1==b||11==b?0:2==b||12==b?1:b>2&&20>b?2:3;case"cy":return 1==b?0:2==b?1:8!=b&&11!=b?2:3;case"kw":return 1==b?0:2==b?1:3==b?2:3;case"ga":return 1==b?0:2==b?1:7>b?2:11>b?3:4;case"ar":return 0==b?0:1==b?1:2==b?2:b%100>=3&&10>=b%100?3:b%100>=11?4:5;default:return 1!=b?1:0}}})});